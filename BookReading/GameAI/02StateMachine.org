* 状态驱动智能体设计

** 什么是有限状态机

一个有限状态机是一个设备或者是一个设备模型，具有有限数量的状态，它可以在任何给定的时间根据输入进行操作，使得从一个状态切换到另一个状态，或者是促使一个输出或者一种行为发生。
一个有限状态机在任何瞬间只能处在一种状态。
有限状态机

** 有限状态机的实现

*** 状态转换表

| 当前状态 | 条件              | 目标状态 |
|----------+--------------------+----------|
| 逃跑     | 安全            | 巡逻     |
| 攻击     | 比敌人弱         | 逃跑     |
| 巡逻     | 受到威胁并比敌人强 | 攻击     |
| 巡逻     | 受到威胁并比敌人弱 | 逃跑     |

*** 全局状态 和 状态标志

全局状态为了处理各种状态的统一逻辑而设计。

** 遇到的问题

*** 使用返回前一状态的时候会遇到的问题

XX->回家等待吃饭->吃饭 吃饭完毕后需要返回XX。
这种情况可以通过子状态来实现。XX->在家。在家包含两个子状态 等待吃饭 和 吃饭。

